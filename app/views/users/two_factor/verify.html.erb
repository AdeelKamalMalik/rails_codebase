<div class="h-screen w-full items-center bg-gradient-to-br from-primary-50 via-teal-100 to-purple-100">
  <div class="flex items-center justify-center h-screen w-full">
    <div class="border w-full md:w-2/3 lg:w-1/3 bg-white p-5 mx-5 rounded-lg" x-data="{ cantScan: false }">
      <div class="w-2/5 p-4 mx-auto mt-2 mb-10 rounded dark:bg-gray-200">
        <%= current_user.two_factor_otp_qr_code(viewbox: true).html_safe %>
      </div>
      <h6 class="font-semibold">1. <%= t ".header" %></h6>
      <p class="mt-3 mb-5 text-sm text-gray-700">
        <%= t ".instructions_1_html",
          google_auth: link_to("Google Authenticator", "https://play.google.com/store/apps/details?id=com.authy.authy", target: :blank, class: "font-semibold"),
          microsoft_auth: link_to("Microsoft Authenticator", "https://apps.apple.com/us/app/authy/id494168017", target: :blank, class: "font-semibold"),
          authy: link_to("Authy", "https://apps.apple.com/us/app/authy/id494168017", target: :blank, class: "font-semibold"),
          password1: link_to("1Password", "https://1password.com/downloads/", target: :blank, class: "font-semibold")
        %>
      </p>
      <h6 class="font-semibold">2. <%= t ".verify_header" %></h6>
      <%= form_with url: user_two_factor_path do |form| %>
        <div class="form-group mt-3">
          <%= form.text_field :code, placeholder: "Enter code here", class: "form-control", required: true %>
          <% if params[:verify_code] %>
            <p class="text-red-500 px-1 mt-2 text-sm">Incorrect verification code</p>
          <% end %>
        </div>

        <div class="flex form-group mt-3 items-center cursor-pointer">
          <%= form.check_box :remember_me, {class: "border-blue"}, true, false %>
          <label for="remember_me" class="ml-3 mt-1"><%= t (".verify_ask_again") %></label>
        </div>
        
        <div x-show="cantScan">
          <label class="mb-2 text-black font-semibold">Use this code in app</label>
          <p class="mb-4 text-gray-700 animated fadeIn" id="otp_app_code"><%= current_user.otp_app_code %></p>
        </div>

        <div class="flex justify-between md:flex-row flex-col">
          <h6 class="text-blue-700 cursor-pointer mt-1 font-semibold" @click="cantScan = !cantScan">
            <%= t("users.two_factor.change_auth_app.cant_scan") %>
          </h6>

          <div class="gap-4 flex justify-between mt-3 md:mt-0">
            <%= link_to t(".go_back"), backup_codes_user_two_factor_path, class: "btn btn-white text-blue-700 border-blue-700 hover:text-blue-500 hover:bg-white" %>
            <%= form.submit t(".continue"), class: "btn btn-primary" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

